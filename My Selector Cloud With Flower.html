<!DOCTYPE html>
<html>
    <title>My Selector Cloud</title>
    <head>
        <meta charset="utf-8">
        <meta name="Generator" content="Error">
        <meta name="Author" content="Error">
        <meta name="Keywords" content="">
        <meta name="Description" content="由Error开发的随机选择器，可为用户在做出选择时提供帮助。">
        <style>
            html,body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
                overflow: hidden;
            }
            .container {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
                background-color: #ffffff;
            }

            .Container{
                position:absolute;
                width:auto;
                height:auto;
                z-index:1;
                background-color:rgb(255, 246, 252);
                color:purple;
                font-family: "幼圆";
                font-size: 1.7rem;
                top:9%;
                bottom:9%;
                left:19%;
                right:19%;
                border-radius: 0.6rem;
                line-height:3.9rem;
                box-shadow: 0rem 0rem 2rem 0rem rgba(139, 12, 114, 0.717);
            }

            .Title{
                width:100%;
                height:2rem;
                background-color: pink;
                font-family: "consolas";
                font-size: 0.9rem;
                border-radius: 0.6rem 0.6rem 0 0;
                color:black;
                line-height: 2rem;
            }

            .Time{
                width:100%;
                height:2rem;
                background-color: thistle;
                font-family: "consolas";
                font-size: 1.3rem;
                color:purple;
                line-height: 2rem;
                text-align: center;
            }

            .Rights{
                position:absolute;
                bottom:0;
                width:100%;
                height:1.7rem;
                background-color: thistle;
                font-family: "consolas";
                font-size: 1rem;
                color:purple;
                line-height: 1.7rem;
                text-align: center;
                border-radius: 0 0 0.6rem 0.6rem;
            }

            .Form{
                font-size: 1.2rem;
                font-family: "幼圆";
            }

            .Richtextbox1{
                position:absolute;
                top:5.02rem;
                background-color:rgba(255,255,255);
	            height:1.6rem;
	            width:auto;
                left:7rem;
                right:1.1rem;
	            border-radius:0.14rem;
	            border-width:0.12rem;
	            border-color:rgba(0, 0, 0, 0.8) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.8);
	            font-family:"幼圆";
	            font-size:1.3rem;
	            resize:none;
            }

            .Richtextbox2{
                position:absolute;
                top:8.79rem;
                background-color:rgba(255,255,255);
	            height:24.95rem;
	            width:auto;
                left:7rem;
                right:1.1rem;
	            border-radius:0.14rem;
	            border-width:0.12rem;
	            border-color:rgba(0, 0, 0, 0.8) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.8);
	            font-family:"幼圆";
	            font-size:1.3rem;
	            resize:none;               
            }

            .Richtextbox3{
                position:absolute;
                top:36rem;
                background-color:rgba(255,255,255);
	            height:5.6rem;
	            width:auto;
                left:7rem;
                right:1.1rem;
	            border-radius:0.14rem;
	            border-width:0.12rem;
	            border-color:rgba(0, 0, 0, 0.8) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.8);
	            font-family:"幼圆";
	            font-size:1.3rem;
	            resize:none;  
            }

            .Botton1{
                position:absolute;
                background-color: white;
                color:purple;
                font-family: "幼圆";
                bottom:2.88rem;
                right:22.4rem;
                width:6rem;
                height:2rem;
                border-radius: 0.14rem;
                border-width: 0.12rem;
                text-align: center;
                font-size: 1.07rem;
                border-color:rgba(0, 0, 0, 0.8) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.8);
            }

            .Botton2{
                position:absolute;
                background-color: white;
                color:purple;
                font-family: "幼圆";
                bottom:2.88rem;
                right:15.3rem;
                width:6rem;
                height:2rem;
                border-radius: 0.14rem;
                border-width: 0.12rem;
                text-align: center;
                font-size: 1.07rem;
                border-color:rgba(0, 0, 0, 0.8) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.8);
            }

            .Botton3{
                position:absolute;
                background-color: white;
                color:purple;
                font-family: "幼圆";
                bottom:2.88rem;
                right:8.2rem;
                width:6rem;
                height:2rem;
                border-radius: 0.14rem;
                border-width: 0.12rem;
                text-align: center;
                font-size: 1.07rem;
                border-color:rgba(0, 0, 0, 0.8) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.8);
            }

            .Botton4{
                position:absolute;
                background-color: white;
                color:purple;
                font-family: "幼圆";
                bottom:2.88rem;
                right:1.1rem;
                width:6rem;
                height:2rem;
                border-radius: 0.14rem;
                border-width: 0.12rem;
                text-align: center;
                font-size: 1.07rem;
                border-color:rgba(0, 0, 0, 0.8) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.8);
            }

            .Botton5{
                position:absolute;
                background-color:rgba(0, 0, 0, 0);
                color:purple;
                font-family: "幼圆";
                right:0.56rem;
                width:4rem;
                top:0.37rem;
                height:1.3rem;
                border-radius: 0.14rem;
                border-width: 0.12rem;
                text-align: center;
                font-size: 0.7rem;
                border-color:rgba(0, 0, 0, 0.8) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.8);
            }

            .Botton6{
                position:absolute;
                background-color:rgba(0, 0, 0, 0);
                color:purple;
                font-family: "幼圆";
                right:4.9rem;
                width:4rem;
                top:0.37rem;
                height:1.3rem;
                border-radius: 0.14rem;
                border-width: 0.12rem;
                text-align: center;
                font-size: 0.7rem;
                border-color:rgba(0, 0, 0, 0.8) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.8);
            }

            .Botton7{
                position:absolute;
                background-color:rgba(0, 0, 0, 0);
                color:purple;
                font-family: "幼圆";
                right:9.24rem;
                width:4rem;
                top:0.37rem;
                height:1.3rem;
                border-radius: 0.14rem;
                border-width: 0.12rem;
                text-align: center;
                font-size: 0.7rem;
                border-color:rgba(0, 0, 0, 0.8) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.8);
            }

            .Botton8{
                position:absolute;
                background-color:rgba(0, 0, 0, 0);
                color:purple;
                font-family: "幼圆";
                right:13.6rem;
                width:4.5rem;
                top:0.37rem;
                height:1.3rem;
                border-radius: 0.14rem;
                border-width: 0.12rem;
                text-align: center;
                font-size: 0.7rem;
                border-color:rgba(0, 0, 0, 0.8) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.8);
            }
        </style>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    </head>
    <body>
        <div id="Container" class="Container">
            <div id="Title" class="Title">
                &nbsp;My Selector Cloud
                <input id="Botton5" type="button" class="Botton5" value="退出全屏" onclick="exit_full_screen()">
                <input id="Botton6" type="button" class="Botton6" value="全屏显示" onclick="full_screen()">
                <input id="Botton7" type="button" class="Botton7" value="界面全屏" onclick="system_full_screen()">
                <input id="Botton8" type="button" class="Botton8" value="下载桌面版" onclick="Download()">
                <script>
                    function Download(){
                        window.location.href="https://error0227.github.io/My-Selector/My%20Selector%20Fine.msi";
                    }

                    function system_full_screen(){
                        //创建页面元素对象，判断浏览器类型
                        var docElm=document.getElementById("Container");
                        //判断是否为W3C浏览器，并进行全屏显示请求
                        if(docElm.requestFullscreen){
                            docElm.requestFullscreen();
                        }
                        //判断是否为FireFox浏览器，并进行全屏显示请求
                        else if(docElm.mozRequestFullScreen){
                            docElm.mozRequestFullScreen();
                        }
                        //判断是否为Chrome等浏览器，并进行全屏显示请求
                        else if(docElm.webkitRequestFullScreen){
                            docElm.webkitRequestFullScreen();
                        }
                        //判断是否为IE11浏览器（微软IE内核浏览器），并进行全屏显示请求
                        else if(elem.msRequestFullscreen){
                            elem.msRequestFullscreen();
                        }
                    }

                    function full_screen(){
                        //创建页面元素对象，判断浏览器类型
                        var docElm=document.documentElement;
                        //var docElm=document.getElementById("Container");
                        //判断是否为W3C浏览器，并进行全屏显示请求
                        if(docElm.requestFullscreen){
                            docElm.requestFullscreen();
                        }
                        //判断是否为FireFox浏览器，并进行全屏显示请求
                        else if(docElm.mozRequestFullScreen){
                            docElm.mozRequestFullScreen();
                        }
                        //判断是否为Chrome等浏览器，并进行全屏显示请求
                        else if(docElm.webkitRequestFullScreen){
                            docElm.webkitRequestFullScreen();
                        }
                        //判断是否为IE11浏览器（微软IE内核浏览器），并进行全屏显示请求
                        else if(elem.msRequestFullscreen){
                            elem.msRequestFullscreen();
                        }
                    }

                    function exit_full_screen(){
                        //判断是否为W3C浏览器，并进行退出全屏请求
                        if(document.exitFullscreen){
                            document.exitFullscreen();
                        }
                        //判断是否为FireFox浏览器，并进行退出全屏请求
                        else if(document.mozCancelFullScreen){                            
                            document.mozCancelFullScreen();
                        }
                        //判断是否为Chrome浏览器，并进行退出全屏请求
                        else if(document.webkitCancelFullScreen){
                            document.webkitCancelFullScreen();
                        }
                        //判断是否为IE11浏览器（微软IE内核浏览器），并进行退出全屏请求
                        else if(document.msExitFullscreen){
                            document.msExitFullscreen();
                        }
                    }
                </script>
            </div>
            <div id="Time" class="Time">
                <script>
                    function showTime(){
                        var time=new Date();

                        var year=time.getFullYear();
                        var month=time.getMonth()+1;
                        var day=time.getDate();

                        var hour=time.getHours();
                        var minute=time.getMinutes();
                        var second=time.getSeconds();

                        var timeContainer=document.getElementById("Time");
                        timeContainer.innerHTML=year + '/' + month + '/' + day + ' ' + hour + ':' + minute + ':' + second;
                    }
                    setInterval('showTime()',1000);
                </script>
            </div>
            <form id="Form" class="Form">
                &nbsp;选择项数：
                <textarea id="Richtextbox1" class="Richtextbox1" placeholder="请输入选择的总项数"></textarea>
                <br/>
                &nbsp;选择内容：
                <textarea id="Richtextbox2" class="Richtextbox2" placeholder="请输入您要从中做出选择的各选择项"></textarea>
                <br/><br/><br/><br/><br/><br/><br/>
                &nbsp;随机选项：
                <textarea id="Richtextbox3" class="Richtextbox3" placeholder="随机出的选项"></textarea>
                <input id="Botton1" type="button" class="Botton1" value="帮  助" onclick="Help()">
                <input id="Botton2" type="button" class="Botton2" value="清  空" onclick="Reset()">
                <input id="Botton3" type="button" class="Botton3" value="开  始" onclick="Start()">
                <input id="Botton4" type="button" class="Botton4" value="退  出" onclick="Close()">
                <script>
                    function Help(){
                        window.alert("My Selector Cloud\nAll Rights Reserved (c) Error 2024.\n该应用是由Error开发的My Selector Fine的网页版，在该网页可下载桌面端My Selector Fine软件包。\n使用说明：在选择项数中输入您预定的选择总数，然后在选择内容中输入您要从中做出选择的各选择项。特别注意，选择内容中各选择项要用中文逗号隔开，并且不能输入纯数字。点击开始即可自动帮助您做出选择，方便您不知如何选择时为您提供参考。\n另外注意：网页版的退出功能受到浏览器设置的限制，IE浏览器点击退出后可能会无法关闭，手动关闭网页即可。\n来自开发者Error的祝福：愿你有一天能与重要的人再次相逢。");
                    }

                    function Reset(){
                        var FormReset=document.getElementById("Form"); //获取表单引用ID
                        FormReset.reset();
                    }

                    function Close(){
                        window.close();
                    }
                </script>
                <script>
                    function Start(){
                        var text1=document.getElementById("Richtextbox1").value;
                        function getRandomInt(n){
                            return Math.floor(Math.random()*n);
                        }
                        var randomNum=getRandomInt(parseInt(text1));

                        var stringArr=[];
                        var text2=document.getElementById("Richtextbox2").value;
                        var divide=text2.split('，');

                        for(var i=0;i<parseInt(text1);i++){
                            if(randomNum==i){
                                Richtextbox3.value=divide[i];
                            }
                        }
                    }
                </script>
            </form>
            <div id="Rights" class="Rights">
                All Rights Reserved (c) Error 2024.
            </div>
        </div>

        <div id="jsi-cherry-container" class="container"></div>
        <script>
        var RENDERER = {
            INIT_CHERRY_BLOSSOM_COUNT: 30,
            MAX_ADDING_INTERVAL: 10,

            init: function () {
                this.setParameters();
                this.reconstructMethods();
                this.createCherries();
                this.render();
            },
            setParameters: function () {
                this.$container = $('#jsi-cherry-container');
                this.width = this.$container.width();
                this.height = this.$container.height();
                this.context = $('<canvas />').attr({ width: this.width, height: this.height }).appendTo(this.$container).get(0).getContext('2d');
                this.cherries = [];
                this.maxAddingInterval = Math.round(this.MAX_ADDING_INTERVAL * 1000 / this.width);
                this.addingInterval = this.maxAddingInterval;
            },
            reconstructMethods: function () {
                this.render = this.render.bind(this);
            },
            createCherries: function () {
                for (var i = 0, length = Math.round(this.INIT_CHERRY_BLOSSOM_COUNT * this.width / 1000); i < length; i++) {
                    this.cherries.push(new CHERRY_BLOSSOM(this, true));
                }
            },
            render: function () {
                requestAnimationFrame(this.render);
                this.context.clearRect(0, 0, this.width, this.height);

                this.cherries.sort(function (cherry1, cherry2) {
                    return cherry1.z - cherry2.z;
                });
                for (var i = this.cherries.length - 1; i >= 0; i--) {
                    if (!this.cherries[i].render(this.context)) {
                        this.cherries.splice(i, 1);
                    }
                }
                if (--this.addingInterval == 0) {
                    this.addingInterval = this.maxAddingInterval;
                    this.cherries.push(new CHERRY_BLOSSOM(this, false));
                }
            }
        };
        var CHERRY_BLOSSOM = function (renderer, isRandom) {
            this.renderer = renderer;
            this.init(isRandom);
        };
        CHERRY_BLOSSOM.prototype = {
            FOCUS_POSITION: 300,
            FAR_LIMIT: 600,
            MAX_RIPPLE_COUNT: 100,
            RIPPLE_RADIUS: 100,
            SURFACE_RATE: 0.5,
            SINK_OFFSET: 20,

            init: function (isRandom) {
                this.x = this.getRandomValue(-this.renderer.width, this.renderer.width);
                this.y = isRandom ? this.getRandomValue(0, this.renderer.height) : this.renderer.height * 1.5;
                this.z = this.getRandomValue(0, this.FAR_LIMIT);
                this.vx = this.getRandomValue(-2, 2);
                this.vy = -2;
                this.theta = this.getRandomValue(0, Math.PI * 2);
                this.phi = this.getRandomValue(0, Math.PI * 2);
                this.psi = 0;
                this.dpsi = this.getRandomValue(Math.PI / 600, Math.PI / 300);
                this.opacity = 0;
                this.endTheta = false;
                this.endPhi = false;
                this.rippleCount = 0;

                var axis = this.getAxis(),
                    theta = this.theta + Math.ceil(-(this.y + this.renderer.height * this.SURFACE_RATE) / this.vy) * Math.PI / 500;
                theta %= Math.PI * 2;

                this.offsetY = 40 * ((theta <= Math.PI / 2 || theta >= Math.PI * 3 / 2) ? -1 : 1);
                this.thresholdY = this.renderer.height / 2 + this.renderer.height * this.SURFACE_RATE * axis.rate;
                this.entityColor = this.renderer.context.createRadialGradient(0, 40, 0, 0, 40, 80);
                this.entityColor.addColorStop(0, 'hsl(330, 70%, ' + 50 * (0.3 + axis.rate) + '%)');
                this.entityColor.addColorStop(0.05, 'hsl(330, 40%,' + 55 * (0.3 + axis.rate) + '%)');
                this.entityColor.addColorStop(1, 'hsl(330, 20%, ' + 70 * (0.3 + axis.rate) + '%)');
                this.shadowColor = this.renderer.context.createRadialGradient(0, 40, 0, 0, 40, 80);
                this.shadowColor.addColorStop(0, 'hsl(330, 40%, ' + 30 * (0.3 + axis.rate) + '%)');
                this.shadowColor.addColorStop(0.05, 'hsl(330, 40%,' + 30 * (0.3 + axis.rate) + '%)');
                this.shadowColor.addColorStop(1, 'hsl(330, 20%, ' + 40 * (0.3 + axis.rate) + '%)');
            },
            getRandomValue: function (min, max) {
                return min + (max - min) * Math.random();
            },
            getAxis: function () {
                var rate = this.FOCUS_POSITION / (this.z + this.FOCUS_POSITION),
                    x = this.renderer.width / 2 + this.x * rate,
                    y = this.renderer.height / 2 - this.y * rate;
                return { rate: rate, x: x, y: y };
            },
            renderCherry: function (context, axis) {
                context.beginPath();
                context.moveTo(0, 40);
                context.bezierCurveTo(-60, 20, -10, -60, 0, -20);
                context.bezierCurveTo(10, -60, 60, 20, 0, 40);
                context.fill();

                for (var i = -4; i < 4; i++) {
                    context.beginPath();
                    context.moveTo(0, 40);
                    context.quadraticCurveTo(i * 12, 10, i * 4, -24 + Math.abs(i) * 2);
                    context.stroke();
                }
            },
            render: function (context) {
                var axis = this.getAxis();

                if (axis.y == this.thresholdY && this.rippleCount < this.MAX_RIPPLE_COUNT) {
                    context.save();
                    context.lineWidth = 2;
                    context.strokeStyle = 'hsla(0, 0%, 100%, ' + (this.MAX_RIPPLE_COUNT - this.rippleCount) / this.MAX_RIPPLE_COUNT + ')';
                    context.translate(axis.x + this.offsetY * axis.rate * (this.theta <= Math.PI ? -1 : 1), axis.y);
                    context.scale(1, 0.3);
                    context.beginPath();
                    context.arc(0, 0, this.rippleCount / this.MAX_RIPPLE_COUNT * this.RIPPLE_RADIUS * axis.rate, 0, Math.PI * 2, false);
                    context.stroke();
                    context.restore();
                    this.rippleCount++;
                }
                if (axis.y < this.thresholdY || (!this.endTheta || !this.endPhi)) {
                    if (this.y <= 0) {
                        this.opacity = Math.min(this.opacity + 0.01, 1);
                    }
                    context.save();
                    context.globalAlpha = this.opacity;
                    context.fillStyle = this.shadowColor;
                    context.strokeStyle = 'hsl(330, 30%,' + 40 * (0.3 + axis.rate) + '%)';
                    context.translate(axis.x, Math.max(axis.y, this.thresholdY + this.thresholdY - axis.y));
                    context.rotate(Math.PI - this.theta);
                    context.scale(axis.rate * -Math.sin(this.phi), axis.rate);
                    context.translate(0, this.offsetY);
                    this.renderCherry(context, axis);
                    context.restore();
                }
                context.save();
                context.fillStyle = this.entityColor;
                context.strokeStyle = 'hsl(330, 40%,' + 70 * (0.3 + axis.rate) + '%)';
                context.translate(axis.x, axis.y + Math.abs(this.SINK_OFFSET * Math.sin(this.psi) * axis.rate));
                context.rotate(this.theta);
                context.scale(axis.rate * Math.sin(this.phi), axis.rate);
                context.translate(0, this.offsetY);
                this.renderCherry(context, axis);
                context.restore();

                if (this.y <= -this.renderer.height / 4) {
                    if (!this.endTheta) {
                        for (var theta = Math.PI / 2, end = Math.PI * 3 / 2; theta <= end; theta += Math.PI) {
                            if (this.theta < theta && this.theta + Math.PI / 200 > theta) {
                                this.theta = theta;
                                this.endTheta = true;
                                break;
                            }
                        }
                    }
                    if (!this.endPhi) {
                        for (var phi = Math.PI / 8, end = Math.PI * 7 / 8; phi <= end; phi += Math.PI * 3 / 4) {
                            if (this.phi < phi && this.phi + Math.PI / 200 > phi) {
                                this.phi = Math.PI / 8;
                                this.endPhi = true;
                                break;
                            }
                        }
                    }
                }
                if (!this.endTheta) {
                    if (axis.y == this.thresholdY) {
                        this.theta += Math.PI / 200 * ((this.theta < Math.PI / 2 || (this.theta >= Math.PI && this.theta < Math.PI * 3 / 2)) ? 1 : -1);
                    } else {
                        this.theta += Math.PI / 500;
                    }
                    this.theta %= Math.PI * 2;
                }
                if (this.endPhi) {
                    if (this.rippleCount == this.MAX_RIPPLE_COUNT) {
                        this.psi += this.dpsi;
                        this.psi %= Math.PI * 2;
                    }
                } else {
                    this.phi += Math.PI / ((axis.y == this.thresholdY) ? 200 : 500);
                    this.phi %= Math.PI;
                }
                if (this.y <= -this.renderer.height * this.SURFACE_RATE) {
                    this.x += 2;
                    this.y = -this.renderer.height * this.SURFACE_RATE;
                } else {
                    this.x += this.vx;
                    this.y += this.vy;
                }
                return this.z > -this.FOCUS_POSITION && this.z < this.FAR_LIMIT && this.x < this.renderer.width * 1.5;
            }
        };
        $(function () {
            RENDERER.init();
        });
    </script>
    </body>
</html>